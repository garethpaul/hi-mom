extends layout
block content
  #map
    script.
      var venues = !{JSON.stringify(venues)}
      var map = L.map('map',{ center: [18.7680, 98.9870], zoom: 14});
      L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token={accessToken}', {
          attribution: 'tk',
          maxZoom: 18,
          id: 'mapbox.streets',
          accessToken: 'pk.eyJ1Ijoiam9uY2h1cmNoIiwiYSI6ImNqZG9ibDN0eTAwamUyem80ZjIxbTAyNDYifQ.MnMddqFz5r_RrQfxwmhjmQ'
      }).addTo(map)
      L.marker([50.5, 30.5], {title: 'string'}).addTo(map);
      // lets loop through all these dang old venue items and snag up some spicy latlng!
      var markers = venues.map(e => L.marker([e.venue.location.lat, e.venue.location.lng], {title: e.venue.name}).addTo(map))

      var bounds = new L.LatLngBounds(markers.map(e => e.getLatLng()));
      // console.log(markers[0].getLatLng)
      map.fitBounds(bounds)

      // ughh mapbox is in Thai! Mom can't read thai
      // Google maps is a pain, but it'll be worth it, once I get a timeline down, and the data massaging down
      // let's get the venue payload goin
